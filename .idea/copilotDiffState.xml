<?xml version="1.0" encoding="UTF-8"?>
<project version="4">
  <component name="CopilotDiffPersistence">
    <option name="pendingDiffs">
      <map>
        <entry key="$PROJECT_DIR$/pom.xml">
          <value>
            <PendingDiffInfo>
              <option name="filePath" value="$PROJECT_DIR$/pom.xml" />
              <option name="originalContent" value="&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;&#10;&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;&#10;         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;&#10;         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;&#10;  &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;&#10;&#10;  &lt;groupId&gt;com.dawb&lt;/groupId&gt;&#10;  &lt;artifactId&gt;FinalDAWB&lt;/artifactId&gt;&#10;  &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;&#10;  &lt;name&gt;FinalDAWB&lt;/name&gt;&#10;  &lt;packaging&gt;war&lt;/packaging&gt;&#10;&#10;  &lt;properties&gt;&#10;    &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;&#10;    &lt;maven.compiler.target&gt;21&lt;/maven.compiler.target&gt;&#10;    &lt;maven.compiler.source&gt;21&lt;/maven.compiler.source&gt;&#10;    &lt;junit.version&gt;5.13.2&lt;/junit.version&gt;&#10;  &lt;/properties&gt;&#10;&#10;  &lt;dependencies&gt;&#10;&lt;dependency&gt;&#10;      &lt;groupId&gt;jakarta.servlet&lt;/groupId&gt;&#10;      &lt;artifactId&gt;jakarta.servlet-api&lt;/artifactId&gt;&#10;      &lt;version&gt;6.0.0&lt;/version&gt;&#10;      &lt;scope&gt;provided&lt;/scope&gt;&#10;    &lt;/dependency&gt;&lt;dependency&gt;&#10;      &lt;groupId&gt;org.glassfish.jersey.containers&lt;/groupId&gt;&#10;      &lt;artifactId&gt;jersey-container-servlet&lt;/artifactId&gt;&#10;      &lt;version&gt;3.1.6&lt;/version&gt;&#10;    &lt;/dependency&gt;&#10;    &lt;dependency&gt;&#10;      &lt;groupId&gt;org.glassfish.jersey.media&lt;/groupId&gt;&#10;      &lt;artifactId&gt;jersey-media-json-jackson&lt;/artifactId&gt;&#10;      &lt;version&gt;3.1.6&lt;/version&gt;&#10;    &lt;/dependency&gt;&#10;    &lt;dependency&gt;&#10;      &lt;groupId&gt;org.glassfish.jersey.inject&lt;/groupId&gt;&#10;      &lt;artifactId&gt;jersey-hk2&lt;/artifactId&gt;&#10;      &lt;version&gt;3.1.6&lt;/version&gt;&#10;    &lt;/dependency&gt;&#10;    &lt;dependency&gt;&#10;      &lt;groupId&gt;org.hibernate.orm&lt;/groupId&gt;&#10;      &lt;artifactId&gt;hibernate-core&lt;/artifactId&gt;&#10;      &lt;version&gt;7.0.4.Final&lt;/version&gt;&#10;    &lt;/dependency&gt;&#10;    &lt;dependency&gt;&#10;      &lt;groupId&gt;org.glassfish.jaxb&lt;/groupId&gt;&#10;      &lt;artifactId&gt;jaxb-runtime&lt;/artifactId&gt;&#10;      &lt;version&gt;4.0.5&lt;/version&gt;&#10;    &lt;/dependency&gt;&lt;dependency&gt;&#10;      &lt;groupId&gt;org.hibernate.validator&lt;/groupId&gt;&#10;      &lt;artifactId&gt;hibernate-validator&lt;/artifactId&gt;&#10;      &lt;version&gt;9.0.1.Final&lt;/version&gt;&#10;    &lt;/dependency&gt;&#10;    &lt;dependency&gt;&#10;      &lt;groupId&gt;jakarta.enterprise&lt;/groupId&gt;&#10;      &lt;artifactId&gt;jakarta.enterprise.cdi-api&lt;/artifactId&gt;&#10;      &lt;version&gt;4.1.0&lt;/version&gt;&#10;      &lt;scope&gt;provided&lt;/scope&gt;&#10;    &lt;/dependency&gt;&#10;&#10;    &lt;!-- Weld (CDI reference implementation) --&gt;&#10;    &lt;dependency&gt;&#10;        &lt;groupId&gt;org.jboss.weld.servlet&lt;/groupId&gt;&#10;        &lt;artifactId&gt;weld-servlet-core&lt;/artifactId&gt;&#10;        &lt;version&gt;5.1.2.Final&lt;/version&gt;&#10;    &lt;/dependency&gt;&#10;&#10;    &lt;!-- Jersey-CDI integration --&gt;&#10;    &lt;dependency&gt;&#10;        &lt;groupId&gt;org.glassfish.jersey.ext.cdi&lt;/groupId&gt;&#10;        &lt;artifactId&gt;jersey-cdi1x-servlet&lt;/artifactId&gt;&#10;        &lt;version&gt;3.1.6&lt;/version&gt;&#10;    &lt;/dependency&gt;&#10;&#10;&lt;dependency&gt;&#10;      &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;&#10;      &lt;artifactId&gt;junit-jupiter-api&lt;/artifactId&gt;&#10;      &lt;version&gt;${junit.version}&lt;/version&gt;&#10;      &lt;scope&gt;test&lt;/scope&gt;&#10;    &lt;/dependency&gt;&#10;      &lt;dependency&gt;&#10;        &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;&#10;        &lt;artifactId&gt;junit-jupiter-engine&lt;/artifactId&gt;&#10;        &lt;version&gt;${junit.version}&lt;/version&gt;&#10;        &lt;scope&gt;test&lt;/scope&gt;&#10;      &lt;/dependency&gt;&#10;      &lt;dependency&gt;&#10;          &lt;groupId&gt;org.mariadb.jdbc&lt;/groupId&gt;&#10;          &lt;artifactId&gt;mariadb-java-client&lt;/artifactId&gt;&#10;          &lt;version&gt;3.3.3&lt;/version&gt; &lt;/dependency&gt;&#10;      &lt;dependency&gt;&#10;          &lt;groupId&gt;org.mindrot&lt;/groupId&gt;&#10;          &lt;artifactId&gt;jbcrypt&lt;/artifactId&gt;&#10;          &lt;version&gt;0.4&lt;/version&gt;&#10;      &lt;/dependency&gt;&#10;  &lt;/dependencies&gt;&#10;&#10;  &lt;build&gt;&#10;    &lt;plugins&gt;&#10;&lt;plugin&gt;&#10;        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;&#10;        &lt;artifactId&gt;maven-war-plugin&lt;/artifactId&gt;&#10;        &lt;version&gt;3.4.0&lt;/version&gt;&#10;      &lt;/plugin&gt;    &lt;/plugins&gt;&#10;  &lt;/build&gt;&#10;&lt;/project&gt;" />
              <option name="updatedContent" value="&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;&#10;&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;&#10;         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;&#10;         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;&#10;  &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;&#10;&#10;  &lt;groupId&gt;com.dawb&lt;/groupId&gt;&#10;  &lt;artifactId&gt;FinalDAWB&lt;/artifactId&gt;&#10;  &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;&#10;  &lt;name&gt;FinalDAWB&lt;/name&gt;&#10;  &lt;packaging&gt;war&lt;/packaging&gt;&#10;&#10;  &lt;properties&gt;&#10;    &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;&#10;    &lt;maven.compiler.target&gt;21&lt;/maven.compiler.target&gt;&#10;    &lt;maven.compiler.source&gt;21&lt;/maven.compiler.source&gt;&#10;    &lt;junit.version&gt;5.13.2&lt;/junit.version&gt;&#10;  &lt;/properties&gt;&#10;&#10;  &lt;dependencies&gt;&#10;&lt;dependency&gt;&#10;      &lt;groupId&gt;jakarta.servlet&lt;/groupId&gt;&#10;      &lt;artifactId&gt;jakarta.servlet-api&lt;/artifactId&gt;&#10;      &lt;version&gt;6.0.0&lt;/version&gt;&#10;      &lt;scope&gt;provided&lt;/scope&gt;&#10;    &lt;/dependency&gt;&lt;dependency&gt;&#10;      &lt;groupId&gt;org.glassfish.jersey.containers&lt;/groupId&gt;&#10;      &lt;artifactId&gt;jersey-container-servlet&lt;/artifactId&gt;&#10;      &lt;version&gt;3.1.6&lt;/version&gt;&#10;    &lt;/dependency&gt;&#10;    &lt;dependency&gt;&#10;      &lt;groupId&gt;org.glassfish.jersey.media&lt;/groupId&gt;&#10;      &lt;artifactId&gt;jersey-media-json-jackson&lt;/artifactId&gt;&#10;      &lt;version&gt;3.1.6&lt;/version&gt;&#10;    &lt;/dependency&gt;&#10;    &lt;dependency&gt;&#10;      &lt;groupId&gt;org.glassfish.jersey.inject&lt;/groupId&gt;&#10;      &lt;artifactId&gt;jersey-hk2&lt;/artifactId&gt;&#10;      &lt;version&gt;3.1.6&lt;/version&gt;&#10;    &lt;/dependency&gt;&#10;    &lt;dependency&gt;&#10;      &lt;groupId&gt;org.hibernate.orm&lt;/groupId&gt;&#10;      &lt;artifactId&gt;hibernate-core&lt;/artifactId&gt;&#10;      &lt;version&gt;7.0.4.Final&lt;/version&gt;&#10;    &lt;/dependency&gt;&#10;    &lt;dependency&gt;&#10;      &lt;groupId&gt;org.glassfish.jaxb&lt;/groupId&gt;&#10;      &lt;artifactId&gt;jaxb-runtime&lt;/artifactId&gt;&#10;      &lt;version&gt;4.0.5&lt;/version&gt;&#10;    &lt;/dependency&gt;&lt;dependency&gt;&#10;      &lt;groupId&gt;org.hibernate.validator&lt;/groupId&gt;&#10;      &lt;artifactId&gt;hibernate-validator&lt;/artifactId&gt;&#10;      &lt;version&gt;9.0.1.Final&lt;/version&gt;&#10;    &lt;/dependency&gt;&#10;    &lt;dependency&gt;&#10;      &lt;groupId&gt;jakarta.enterprise&lt;/groupId&gt;&#10;      &lt;artifactId&gt;jakarta.enterprise.cdi-api&lt;/artifactId&gt;&#10;      &lt;version&gt;4.1.0&lt;/version&gt;&#10;      &lt;scope&gt;provided&lt;/scope&gt;&#10;    &lt;/dependency&gt;&#10;&#10;    &lt;!-- Weld (CDI reference implementation) --&gt;&#10;    &lt;dependency&gt;&#10;        &lt;groupId&gt;org.jboss.weld.servlet&lt;/groupId&gt;&#10;        &lt;artifactId&gt;weld-servlet-core&lt;/artifactId&gt;&#10;        &lt;version&gt;5.1.2.Final&lt;/version&gt;&#10;    &lt;/dependency&gt;&#10;&#10;    &lt;!-- Jersey-CDI integration --&gt;&#10;    &lt;dependency&gt;&#10;        &lt;groupId&gt;org.glassfish.jersey.ext.cdi&lt;/groupId&gt;&#10;        &lt;artifactId&gt;jersey-cdi1x-servlet&lt;/artifactId&gt;&#10;        &lt;version&gt;3.1.6&lt;/version&gt;&#10;    &lt;/dependency&gt;&#10;&#10;&lt;dependency&gt;&#10;      &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;&#10;      &lt;artifactId&gt;junit-jupiter-api&lt;/artifactId&gt;&#10;      &lt;version&gt;${junit.version}&lt;/version&gt;&#10;      &lt;scope&gt;test&lt;/scope&gt;&#10;    &lt;/dependency&gt;&#10;      &lt;dependency&gt;&#10;        &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;&#10;        &lt;artifactId&gt;junit-jupiter-engine&lt;/artifactId&gt;&#10;        &lt;version&gt;${junit.version}&lt;/version&gt;&#10;        &lt;scope&gt;test&lt;/scope&gt;&#10;      &lt;/dependency&gt;&#10;      &lt;dependency&gt;&#10;          &lt;groupId&gt;org.mariadb.jdbc&lt;/groupId&gt;&#10;          &lt;artifactId&gt;mariadb-java-client&lt;/artifactId&gt;&#10;          &lt;version&gt;3.3.3&lt;/version&gt; &lt;/dependency&gt;&#10;      &lt;dependency&gt;&#10;          &lt;groupId&gt;org.mindrot&lt;/groupId&gt;&#10;          &lt;artifactId&gt;jbcrypt&lt;/artifactId&gt;&#10;          &lt;version&gt;0.4&lt;/version&gt;&#10;      &lt;/dependency&gt;&#10;  &lt;/dependencies&gt;&#10;&#10;  &lt;build&gt;&#10;    &lt;plugins&gt;&#10;&lt;plugin&gt;&#10;        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;&#10;        &lt;artifactId&gt;maven-war-plugin&lt;/artifactId&gt;&#10;        &lt;version&gt;3.4.0&lt;/version&gt;&#10;      &lt;/plugin&gt;    &lt;/plugins&gt;&#10;  &lt;/build&gt;&#10;&lt;/project&gt;" />
            </PendingDiffInfo>
          </value>
        </entry>
        <entry key="$PROJECT_DIR$/src/main/java/com/dawb/finaldawb/repository/UsuarioRepository.java">
          <value>
            <PendingDiffInfo>
              <option name="filePath" value="$PROJECT_DIR$/src/main/java/com/dawb/finaldawb/repository/UsuarioRepository.java" />
              <option name="originalContent" value="package com.dawb.finaldawb.repository;&#10;&#10;import com.dawb.finaldawb.domain.Usuario;&#10;import jakarta.enterprise.context.ApplicationScoped;&#10;import jakarta.inject.Inject;&#10;import jakarta.persistence.EntityManager;&#10;import jakarta.persistence.NoResultException;&#10;import jakarta.persistence.PersistenceContext;&#10;import jakarta.transaction.Transactional;&#10;&#10;import java.util.List;&#10;import java.util.Optional;&#10;&#10;@ApplicationScoped&#10;@Transactional&#10;public class UsuarioRepository {&#10;&#10;    // Inyección del EntityManager para interactuar con JPA&#10;    @PersistenceContext&#10;    private EntityManager em;&#10;&#10;    // --- Operaciones CRUD Básicas ---&#10;&#10;    public Usuario save(Usuario usuario) {&#10;        if (usuario.getId() == null) {&#10;            em.persist(usuario); // INSERT&#10;            return usuario;&#10;        } else {&#10;            return em.merge(usuario); // UPDATE&#10;        }&#10;    }&#10;&#10;    public Optional&lt;Usuario&gt; findById(Long id) {&#10;        return Optional.ofNullable(em.find(Usuario.class, id));&#10;    }&#10;&#10;    public List&lt;Usuario&gt; findAll() {&#10;        return em.createQuery(&quot;SELECT u FROM Usuario u&quot;, Usuario.class).getResultList();&#10;    }&#10;&#10;    public void delete(Usuario usuario) {&#10;        em.remove(em.contains(usuario) ? usuario : em.merge(usuario));&#10;    }&#10;&#10;    // --- Consultas Personalizadas (necesarias para la lógica de negocio) ---&#10;&#10;    // Buscar por username (UNIQUE KEY)&#10;    public Optional&lt;Usuario&gt; findByUsername(String username) {&#10;        try {&#10;            Usuario usuario = em.createQuery(&quot;SELECT u FROM Usuario u WHERE u.username = :username&quot;, Usuario.class)&#10;                    .setParameter(&quot;username&quot;, username)&#10;                    .getSingleResult();&#10;            return Optional.of(usuario);&#10;        } catch (NoResultException e) {&#10;            return Optional.empty();&#10;        }&#10;    }&#10;&#10;    // Buscar por email (UNIQUE KEY)&#10;    public Optional&lt;Usuario&gt; findByEmail(String email) {&#10;        try {&#10;            Usuario usuario = em.createQuery(&quot;SELECT u FROM Usuario u WHERE u.email = :email&quot;, Usuario.class)&#10;                    .setParameter(&quot;email&quot;, email)&#10;                    .getSingleResult();&#10;            return Optional.of(usuario);&#10;        } catch (NoResultException e) {&#10;            return Optional.empty();&#10;        }&#10;    }&#10;}" />
              <option name="updatedContent" value="package com.dawb.finaldawb.repository;&#10;&#10;import com.dawb.finaldawb.domain.Usuario;&#10;import jakarta.enterprise.context.ApplicationScoped;&#10;import jakarta.inject.Inject;&#10;import jakarta.persistence.EntityManager;&#10;import jakarta.persistence.NoResultException;&#10;import jakarta.persistence.PersistenceContext;&#10;import jakarta.transaction.Transactional;&#10;&#10;import java.util.List;&#10;import java.util.Optional;&#10;&#10;@ApplicationScoped&#10;@Transactional&#10;public class UsuarioRepository {&#10;&#10;    // Inyección del EntityManager para interactuar con JPA&#10;    @PersistenceContext&#10;    private EntityManager em;&#10;&#10;    // --- Operaciones CRUD Básicas ---&#10;&#10;    public Usuario save(Usuario usuario) {&#10;        if (usuario.getId() == null) {&#10;            em.persist(usuario); // INSERT&#10;            return usuario;&#10;        } else {&#10;            return em.merge(usuario); // UPDATE&#10;        }&#10;    }&#10;&#10;    public Optional&lt;Usuario&gt; findById(Long id) {&#10;        return Optional.ofNullable(em.find(Usuario.class, id));&#10;    }&#10;&#10;    public List&lt;Usuario&gt; findAll() {&#10;        return em.createQuery(&quot;SELECT u FROM Usuario u&quot;, Usuario.class).getResultList();&#10;    }&#10;&#10;    public void delete(Usuario usuario) {&#10;        em.remove(em.contains(usuario) ? usuario : em.merge(usuario));&#10;    }&#10;&#10;    // --- Consultas Personalizadas (necesarias para la lógica de negocio) ---&#10;&#10;    // Buscar por username (UNIQUE KEY)&#10;    public Optional&lt;Usuario&gt; findByUsername(String username) {&#10;        try {&#10;            Usuario usuario = em.createQuery(&quot;SELECT u FROM Usuario u WHERE u.username = :username&quot;, Usuario.class)&#10;                    .setParameter(&quot;username&quot;, username)&#10;                    .getSingleResult();&#10;            return Optional.of(usuario);&#10;        } catch (NoResultException e) {&#10;            return Optional.empty();&#10;        }&#10;    }&#10;&#10;    // Buscar por email (UNIQUE KEY)&#10;    public Optional&lt;Usuario&gt; findByEmail(String email) {&#10;        try {&#10;            Usuario usuario = em.createQuery(&quot;SELECT u FROM Usuario u WHERE u.email = :email&quot;, Usuario.class)&#10;                    .setParameter(&quot;email&quot;, email)&#10;                    .getSingleResult();&#10;            return Optional.of(usuario);&#10;        } catch (NoResultException e) {&#10;            return Optional.empty();&#10;        }&#10;    }&#10;}" />
            </PendingDiffInfo>
          </value>
        </entry>
      </map>
    </option>
  </component>
</project>